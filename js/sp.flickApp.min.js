(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m={}.hasOwnProperty,g=function(e,t){function r(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},y=function(e,t){return function(){return e.apply(t,arguments)}},b=[].slice;this.ns={},i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}var t=this;return g(n,e),n.configure("FlickAppModel","name","articleUrl","imagePath","photoNo","imageEl"),n.init=function(e){var t,n,r,i,s=this;return r=e.ajaxOpt,this.options=e,this.apiUrl=""+r.url,this.pvUrl=""+r.pvUrl,this.storageFlag=this.storageApi.isStorage(),i=""+this.apiUrl+r.pageNo,t={type:"GET",dataType:"json",jsonpCallback:null,success:null},n=this.getApi(i,t).done(function(e){var r,i,o,u,a,f,l,c,h,p,d;if(e!=null){i=e.flickListSize,s.pageDetail(i);switch(s.start){case 1:r=[i-1,i,2,3];break;case 2:r=[i,1,3,4];break;case 3:r=[1,2,4,5];break;case i:r=[i-2,i-1,1,2];break;case i-1:r=[i-3,i-2,i,1];break;case i-2:r=[i-4,i-3,i-1,i];break;default:r=[s.start-2,s.start-1,s.start+1,s.start+2]}return o=""+s.apiUrl+r[0],u=""+s.apiUrl+r[1],a=""+s.apiUrl+r[2],f=""+s.apiUrl+r[3],l=s.apiPipes(n,function(){return s.getApi(o,t)}),c=s.apiPipes(n,function(){return s.getApi(u,t)}),h=s.apiPipes(n,function(){return s.getApi(a,t)}),p=s.apiPipes(n,function(){return s.getApi(f,t)}),d=s.apiPipes(n,function(){return s.getApi(s.pvUrl+s.start,t)}),$.when(l,c,h,p).then(function(t,n,r,i){var o,u,a;u=[t[0],n[0],e,r[0],i[0]];for(o=a=0;a<=5;o=++a){s.refresh(u[o].flickList[0]);if(o===4){s.trigger("initializeApi");return}}})}return s.reject()})},n.storageApi={isStorage:function(){return window.sessionStorage!=null?!0:(n.articleRecords={},!1)},set:function(e,t){var n;return n=JSON.stringify(t),window.sessionStorage.setItem(e,n)},get:function(e){var t;return t=window.sessionStorage.getItem(e)},search:function(e){var t;return t=window.sessionStorage[e],t===void 0?!1:!0}},n.storageDeferred=function(e){var t,n;return n=$.Deferred(),t={flickList:[JSON.parse(e)]},n.resolve(t)},n.fetchApi=function(e){var t,n,r,i,s,o=this;return s=""+this.apiUrl+e.apiNumber,this.storageFlag&&(r=this.storageApi.search(e.apiNumber)),t={type:"GET",dataType:"json",jsonpCallback:null,success:null},!r||!this.storageFlag?n=this.getApi(s,t):n=this.storageDeferred(this.storageApi.get(e.apiNumber)),i=this.all(),$.when(n).then(function(n){return o.trigger("bindTouchEvent"),o.unbind("bindTouchEvent"),(!r||o.storageFlag)&&o.storageApi.set(n.flickList[0].photoNo,n.flickList[0]),o.refresh(n.flickList[0],{clear:!0}),o.trigger("fetchApi",e.apiNumber,e.currentNumber),o.unbind("fetchApi"),o.getApi(o.pvUrl+e.currentNumber,t)})},n.pageDetail=function(e){return this.options["ajaxOpt"]["pageNo"]!=null?this.start=this.options.ajaxOpt.pageNo>>0:this.start=1,this.maxsize=e},n.getApi=function(e,t){var n;return typeof n!="undefined"&&n!==null&&(n=$.Deferred()),n=$.ajax({url:e,type:t.type,dataType:t.dataType,jsonpCallback:t.jsonpCallback})},n.apiPipes=function(e,t){var n;return n=e.pipe(t)},n.reject=function(){this.trigger("rejected")},n}.call(this,Spine.Model),v={currentNumber:1,slideCounter:0,elementCounter:2},l=function(){function e(){this.end=y(this.end,this),this.move=y(this.move,this),this.start=y(this.start,this),this.moveInit={swipeTimeThreshold:10}}return e.prototype.hasTouch=function(){return window.ontouchstart===null?!0:!1},e.prototype.hasTouchesEvent=function(e,t){var n;return e.touches!=null?(n=e.touches[0],t&&(this.moveInit.timeStamp=+(new Date))):e.originalEvent.touches&&(n=e.originalEvent.touches[0],t&&(this.moveInit.timeStamp=e.timeStamp)),n},e.prototype.start=function(e){var t;return this.hasTouch?t=this.hasTouchesEvent(e,!0):(t=e,this.moveInit.timeStamp=+(new Date)),this.moveInit.startX=t.pageX,this.moveInit.pointX=t.pageX,this.moveInit.startY=t.pageY,this.moveInit.pointY=t.pageY,this.moveInit.derectionX=0,this.moveInit.sx=t.clientX,this.moveInit.sy=t.clientY},e.prototype.move=function(e){var t,n,r,i,s,o,u;return e.preventDefault(),this.hasTouch?s=this.hasTouchesEvent(e,!1):s=e,o=s.pageX,u=s.pageY,r=s.clientX,i=s.clientY,t=this.moveInit.pointX-o,n=this.moveInit.pointY-u,this.moveInit.pointX=o,this.moveInit.pointY=u,this.moveInit.pointX=this.moveInit.pointX-this.moveInit.startX,this.moveInit.pointY=this.moveInit.pointY-this.moveInit.startY},e.prototype.end=function(e){var t,n,r;r=+(new Date),t=this.moveInit.pointX-this.moveInit.startX,n=this.moveInit.pointY-this.moveInit.startY,this.moveInit.diffTime=r-this.moveInit.timeStamp,this.moveInit.distX=Math.sqrt(t*t),this.moveInit.distY=Math.sqrt(n*n);if(this.moveInit.pointX<0)return this.moveInit.flicked="left";if(this.moveInit.pointX>0)return this.moveInit.flicked="right"},e}(),c=function(){function e(){}return e.prototype.type3D=function(e){var t;return e.transformPos!==""?t="translate3d("+e.transformPos+")":t="",$(e.item).css({webkitTransitionProperty:e.transitionPrm.property,webkitTransitionDuration:e.transitionPrm.duration,webkitTransitionTimingFunction:e.transitionPrm.easing,webkitTransitionDelay:e.transitionPrm.delay,webkitTransform:t})},e}(),e=function(){function e(e){this.fetchCallback=y(this.fetchCallback,this),this.bindTouchEvent=y(this.bindTouchEvent,this),this.parent=e,this.transform=new c,v.currentNumber=i.options.ajaxOpt.pageNo>>0}return e.prototype.moveStatus=function(e){var t;if(e.distX===0)return t="tap";if(Math.abs(e.pointX)>Math.abs(e.pointY)&&e.diffTime>=e.swipeTimeThreshold)return t="swipe"+e.flicked;if(e.distX>1)return t="swipeEnd"},e.prototype.endMoveX=function(e,t){var n,r,s,o;this.parent.flickStatus=o=this.moveStatus(t),s=0;if(o==="tap"){this.tap();return}if(o==="swipeEnd")return;return n={property:"all",duration:"500ms",easing:"cubic-bezier(0.175, 0.885, 0.320, 1)",delay:"0"},r={item:e,x:0,y:0,transitionPrm:n},o==="swipeleft"?(v.elementCounter===4&&(v.elementCounter=-1),v.currentNumber===i.maxsize&&(v.currentNumber=0),v.currentNumber+=1,v.slideCounter+=1,v.elementCounter+=1,s=-100*v.slideCounter):o==="swiperight"?(v.elementCounter===0&&(v.elementCounter=5),v.currentNumber===1&&(v.currentNumber=i.maxsize+1),v.currentNumber-=1,v.slideCounter-=1,v.elementCounter-=1,s=-100*v.slideCounter):s=0,r.transformPos=""+s+"%, 0, 0",this.transform.type3D(r),this.touchEndFunc()},e.prototype.tap=function(){return this.toolsControl.maneger(!0)},e.prototype.touchEndFunc=function(){var e,n,r,s=this;r=function(){var e,t,n,r;n=i.maxsize,t=v.currentNumber;if(s.parent.flickStatus==="swipeleft")switch(t){case n:e=2;break;case n-1:e=1;break;default:e=t+2}else if(s.parent.flickStatus==="swiperight")switch(t){case 1:e=n-1;break;case 2:e=n;break;default:e=t-2}return r={apiNumber:e,currentNumber:t,flickstatus:s.parent.flickStatus}},this.resetTranslate(),n=r(),i.bind("fetchApi",this.fetchCallback),i.bind("bindTouchEvent",this.bindTouchEvent),e=new t,e.render(n.currentNumber),i.fetchApi(n);if(i.options["listPageOpt"]!=null)return this.listPages(n)},e.prototype.bindTouchEvent=function(){return $(this.parent.$el).bind("touchstart",this.parent.touchStart),$(this.parent.$el).bind("touchend",this.parent.touchEnd)},e.prototype.fetchCallback=function(e,n){var r,s,o,u;return r=new t,r.refreshRecords(e,n,this.parent.flickStatus),o=i.recordsValues(),s=this.selectEl.find("img"),u=new p,u.refreshImg(s)},e.prototype.listPages=function(e){var t,n,r;return r=i.options.listPageOpt,t=Math.ceil(e.currentNumber/r.maxpage),n=""+r.url+t,$(r.el).attr("href",""+n)},e.prototype.toolsControl={maneger:function(e){return e&&(this.hide(),this.clearHideTimer()),this.hideTimer()},hideTimer:function(){var e=this;return this.timer=setTimeout(function(){var t;t=$("header").attr("class");if(t===void 0||t.indexOf("headerShow")!==-1)return e.hide()},5e3)},hide:function(){var e,t,n,r,i,s;return t=$("header"),s=$("#toolbar"),n=$("#nextBtn").find("a"),r=$("#prevBtn").find("a"),e=$(t).attr("class"),i=$(s).attr("class"),e===void 0||e==="fadeIn headerShow"?(t.removeClass().addClass("fadeOut headerHide"),s.removeClass().addClass("fadeOut toolbarHide")):e==="fadeOut headerHide"&&(t.removeClass().addClass("fadeIn headerShow"),s.removeClass().addClass("fadeIn toolbarShow")),$(n).toggleClass("hide"),$(r).toggleClass("hide")},clearHideTimer:function(){return clearTimeout(this.timer)}},e.prototype.resetTranslate=function(){var e,t,n;return this.parent.flickStatus==="swipeleft"?(v.elementCounter===3?(e=$(i.swipeItems[4]),t=$(i.swipeItems[0])):v.elementCounter===4?(e=$(i.swipeItems[0]),t=$(i.swipeItems[1])):(e=$(i.swipeItems[v.elementCounter+1]),t=$(i.swipeItems[v.elementCounter+2])),n=v.slideCounter+1):this.parent.flickStatus==="swiperight"&&(v.elementCounter===0?(e=$(i.swipeItems[4]),t=$(i.swipeItems[3])):v.elementCounter===1?(e=$(i.swipeItems[0]),t=$(i.swipeItems[4])):(e=$(i.swipeItems[v.elementCounter-1]),t=$(i.swipeItems[v.elementCounter-2])),n=v.slideCounter-1),$(e).css({webkitTransform:"translate3d("+n*100+"%, 0, 0)"}),$(t).find("img").attr("src","http://stat100.ameba.jp/ofcl/img/screen/sp/portal/flick_dummy.gif").css({width:"1px",height:"1px"}),this.selectEl=t,this.parent.el.unbind("touchstart touchend")},e}(),r=function(t){function n(){this.touchEnd=y(this.touchEnd,this),this.touchMove=y(this.touchMove,this),this.touchStart=y(this.touchStart,this);var t;n.__super__.constructor.apply(this,arguments),this.touches=new l,this.touches.el=this.el,this.animate=new e(this),t=new d({el:window})}return g(n,t),n.prototype.events={touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd"},n.prototype.touchStart=function(e){return this.touches.start(e)},n.prototype.touchMove=function(e){return this.touches.move(e)},n.prototype.touchEnd=function(e){return this.touches.end(e),this.animate.endMoveX(this.el,this.touches.moveInit)},n}(Spine.Controller),f=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.animate=new e(this)}return g(n,t),n.prototype.events={click:"clickHandler",touchmove:"move"},n.prototype.move=function(e){return e.preventDefault()},n.prototype.clickHandler=function(e){var t,n,r;return e.preventDefault(),e.currentTarget.id==="nextBtn"?n="left":n="right",t=$("#tocuhEventArea"),r={pointX:1,pointY:0,diffTime:100,swipeTimeThreshold:0,flicked:n},this.animate.toolsControl.clearHideTimer(),this.animate.endMoveX(t,r),this.animate.toolsControl.maneger()},n}(Spine.Controller),n=function(e){function t(){t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.ua=function(){var e,t,n,r;return e={},n=window.navigator.userAgent,r=n.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[],t=document.createElement("div"),e.safari=/Safari/gi.test(window.navigator.appVersion),e.opera=/opera/i.test(n),e.mozzila=/mozzila/i.test(n)&&!/(compatible|webkit|)/.test(n),e.android=/android/i.test(n),e.iphone=/iphone/gi.test(window.navigator.platform),e.version=r[0],e},t.prototype.deviceHeadBar=function(){var e,t,n,r,i;return e=0,t=screen.height,i=this.ua(),n=window.innerHeight>window.innerWidth,$.browser.height=window.innerHeight,window.navigator.standalone||(i.android?i.safari&&(e=window.outerHeight/window.devicePixelRatio-window.innerHeight):i.iphone&&(n?(t=screen.height,r=40):(t=screen.width,r=32),e=t-window.innerHeight-(20+r))),e},t.prototype.hideAddressBar=function(){var e;return e=this.deviceHeadBar(),$("body").css("height",window.innerHeight+e),setTimeout(function(){return window.scrollTo(0,1)},100)},t.prototype.orientationType=function(e){var t,n;return n=this.ua(),n.android?window.onorientationchange!==void 0||window.onorientationchange!==null?t={orientationchange:e}:t={resize:e}:n.iphone?t={orientationchange:e}:t={resize:e},t},t}(Spine.Controller),d=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.device=new n,this.delegateEvents(this.device.orientationType("resetElStyle"))}return g(t,e),t.prototype.events={onload:"clearStorage"},t.prototype.clearStorage=function(){return window.sessionStorage.clear()},t.prototype.resetElStyle=function(){var e=this;return setTimeout(function(){var t,n;return e.device.hideAddressBar(),t=e.device.deviceHeadBar(),n=new p({el:$("#app")}),n.resizeElements(t)},100)},t}(Spine.Controller),p=function(e){function t(){this.swipeButtons=y(this.swipeButtons,this),this.orignImg=y(this.orignImg,this),this.preload=y(this.preload,this),t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.preload=function(e){var t,n,r;return e!=null&&(r="",t=$.Deferred(),n=new Image,n.onload=function(){return t.resolve(this.src)},n.onerror=function(){return t.reject(this.src)},n.src=e),t.promise()},t.prototype.onloadImg=function(e){var t;return t=$(e).attr("data-orign"),$(e).attr("src",t)},t.prototype.smallImagePath=function(e){var t;return t=e.replace(".jpg","_200.jpg")},t.prototype.imageResizeStyle=function(e,t){var n,r,i;if(t!=null)return t.w>t.h||t.w===t.h?(n="auto",i="100%"):(r=window.innerHeight/t.h,i=Math.floor(t.w*r),window.innerWidth<i?(n="auto",i="100%"):(n="100%",i="auto")),$(e).css({height:n,width:i});$(e).css({height:"auto",width:"100%"});if($(e).height()>window.innerHeight)return $(e).css({height:"100%",width:"auto"})},t.prototype.renderImg=function(e,t){var n,r,i,s=this;return n=$.Deferred(),i=this.smallImagePath(e.resizePath),r=new Image,$(r).attr("data-orign",e.orgPath).attr("data-resize",i).addClass("userImg"),this.preload(i).then(function(e){return r.src=i,n.resolve()},function(){return r.src="http://stat100.ameba.jp/ofcl/img/screen/sp/portal/flick_dummy.gif",n.resolve()}),e.w===0?this.imageResizeStyle(r):this.imageResizeStyle(r,e),$(t).append(r),n.promise()},t.prototype.refreshImg=function(e){var t,n,r,s,o,u=this;return u=this,o=i.recordsValues()[0],n="http://stat001.ameba.jp"+o.shortImagePath,r="http://official.stat.ameba.jp/imageResize"+o.shortImagePath,s={w:o.width,h:o.height},t=o.amemberFlag,r=this.smallImagePath(r),e.attr("data-resize",r),e.attr("data-orign",n),t===void 0||!t?(this.imageResizeStyle(e,s),this.preload(r).then(function(t){e.attr("src",t),u.orignImg(n,s,"loaded")},function(e){return u.orignImg(n,s,"timeout")})):e.attr("src","http://stat100.ameba.jp/blog/img/user/thumb_amember_80.gif").attr("data-orign","").attr("data-resize","").css({height:"auto",width:"auto"})},t.prototype.orignImg=function(e,t,n){var r=this;return this.preload(e).done(function(n){var i,s,o,u,a;i=document.getElementsByClassName("userImg"),a=[];for(o=0,u=i.length;o<u;o++)s=i[o],s.getAttribute("data-orign")===n?($(s).attr("src",e),t.w===0?a.push(r.imageResizeStyle($(s))):a.push(void 0)):a.push(void 0);return a})},t.prototype.render=function(e,t,n){var r,i,s,o,u=this;return s=$.Deferred(),o=$('<div class="swipeItem"><p class="swipeItem-loader"></p></div>'),i=$(o).find("p"),$(o).css({webkitTransform:"translate3d("+this.position(t)+"%, 0, 0)"}),$(i).css({height:""+$("body").height()+"px",width:window.innerWidth}),n===void 0||!n?(this.touchEl.append(o),this.renderImg(e,i).done(function(){return s.resolve()})):(r='<img src="http://stat100.ameba.jp/blog/img/user/thumb_amember_80.gif" class="userImg" />',i.html(r),this.touchEl.append(o),s.resolve()),s.promise()},t.prototype.position=function(e){var t;switch(e){case 0:t=-200;break;case 1:t=-100;break;case 2:t=0;break;case 3:t=100;break;case 4:t=200}return t},t.prototype.resizeElements=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p;o=$("#tocuhEventArea").find("p"),s=$("div.flickbutton"),u=$("#recMoveArea"),n=""+window.innerWidth+"px",t=""+(window.innerHeight+e)+"px",r=32,i=this.swipeButtonsPosition(),this.el.css({height:t,width:n});for(l=0,h=o.length;l<h;l++)f=o[l],$(f).css({height:t,width:n}),this.imageResizeStyle($(f).find("img"));for(c=0,p=s.length;c<p;c++)a=s[c],$(a).find("p").css({top:""+i+"px"});return u.length!==0&&($(u).css({width:""+window.innerWidth+"px"}),$(u).find("ul").css({width:""+(window.innerWidth-70)*2+"px"})),this},t.prototype.swipeButtonsPosition=function(){var e,t,n,r,s;return i.options.isRecommend?r=73+$("#blog_area").height():r=$("#toolbar").height(),n=$("header").height(),s=window.innerHeight,e=32,t=(s-(r+n))/2+e/2,t},t.prototype.swipeButtons=function(){var e,t,n,r,i;return n=$('<div id="nextBtn" class="flickbutton bounceSet bounceR" />'),i=$('<div id="prevBtn" class="flickbutton bounceSet bounceL" />'),t='<a href="#"><p class="ripple2" style="top:'+this.swipeButtonsPosition()+'px;"></p><p class="ripple" style="top:'+this.swipeButtonsPosition()+'px;"></p></a>',r='<a href="#"><p class="ripple2" style="top:'+this.swipeButtonsPosition()+'px;"></p><p class="ripple" style="top:'+this.swipeButtonsPosition()+'px;"></p></a>',n.html(t),i.html(r),$("body").append(n).append(i),e=new f({el:$(".flickbutton")})},t}(Spine.Controller),h=function(o){function u(){this.rejected=y(this.rejected,this);var r,o=this;u.__super__.constructor.apply(this,arguments),i.storageFlag&&window.sessionStorage.clear(),r=new n,r.hideAddressBar(),i.bind("rejected",this.rejected),i.bind("initializeApi",function(){var n,r;return o.initialize(),i.options["recommendOpt"]!=null&&s.init(),r=new t,r.initialize(),n=new e,n.toolsControl.maneger(!1)})}return g(u,o),u.prototype.initialize=function(){var e,t,n,s,o,u,a,f,l,c,h,d,v=this;u=i.all(),c=new p({el:this.el,touchEl:this.touchEl}),t=0,l=$('<div id="toolbar" style="bottom:0px;" />'),f='<a id="blog_area" href=""><p id="talentName"></p><p id="article"></p></a>',this.el.css({height:""+$("body").height()+"px",width:""+window.innerWidth+"px"}),this.touchEl.css({height:"100%",width:"100%"});for(s=h=0,d=u.length;h<d;s=++h)a=u[s],o={orgPath:"http://stat001.ameba.jp"+a.shortImagePath,resizePath:"http://official.stat.ameba.jp/imageResize"+a.shortImagePath,h:a.height,w:a.width},e=a.amemberFlag,c.render(o,s,e).done(function(){return c.preload(o.orgPath).done(function(e){var n;return n=$("#tocuhEventArea").find("img"),c.onloadImg($(n[t])),i.swipeItems=$("#tocuhEventArea").find("div"),t++})});return $(l).html(f),$("body").append(l),n=new r({el:"#tocuhEventArea"}),i.bind("renderSwipeButtons",c.swipeButtons),$("#toolbar").on("touchmove",function(e){return v.skidbreak(e)}),$("header").on("touchmove",function(e){return v.skidbreak(e)})},u.prototype.skidbreak=function(e){return e.preventDefault()},u.prototype.rejected=function(){var e;return e=$('<div id="rejectError">表示できるブログ画像はありません</div>'),this.el.append(e)},u}(Spine.Controller),t=function(e){function t(){t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.initialize=function(){var e,t,n,r,s,o,u,a,f;o=i.records,e=i.options.articleOpt,r=e.attrName,t={};for(s in o){u=o[s][e.storageKey],t[u]={};for(a=0,f=r.length;a<f;a++)n=r[a],n==="title"&&o[s].title===void 0?t[u].title="この画像の記事を見る":t[u][n]=o[s][n];i.storageFlag?i.storageApi.set("article-"+u,t[u]):i.articleRecords[""+u]=t[u]}return this.render(i.options.ajaxOpt.pageNo),i.trigger("renderSwipeButtons")},t.prototype.refreshRecords=function(e,t,n){var r,s,o,u,a,f,l,c,h,p,d,v,m;if(l===void 0){d="article-"+e,l=window.sessionStorage[d],s={},a=i.recordsValues()[0],r=i.options.articleOpt,u=r.attrName,p=a[r.storageKey];for(v=0,m=u.length;v<m;v++)o=u[v],o==="title"&&a.title===void 0?s.title="この画像の記事を見る":s[o]=a[o];if(i.storageFlag)return i.storageApi.set("article-"+p,s);h=[];for(c in i.articleRecords)h.push(c>>0);if(n==="swipeleft")switch(t){case i.maxsize:f=i.maxsize-3;break;case 1:f=i.maxsize-2;break;case 2:f=i.maxsize-1;break;case 3:f=i.maxsize;break;default:f=h[0]}else if(n==="swiperight")switch(t){case 1:f=4;break;case i.maxsize:f=3;break;case i.maxsize-1:f=2;break;case i.maxsize-2:f=1;break;default:f=h[4]}return delete i.articleRecords[f],i.articleRecords[e]=s}},t.prototype.render=function(e){var t,n,r,s,o,u;i.storageFlag?(n=i.storageApi.get("article-"+e),n!=null?n=JSON.parse(n):n={name:"取得できませんでした",title:"取得できませんでした",articleUrl:"取得できませんでした"}):n=i.articleRecords[e],s=n.name||"取得できませんでした",u=n.title||"取得できませんでした",t=n.articleUrl||"http://ameblo.jp/",i.options.articleOpt.isRanking?$("#talentName").html(""+e+"位 "+s):$("#talentName").html(s),$("#blog_area").attr("href",t),$("#article").html(u);if(i.options["headerOpt"]!=null)return o=function(){var e,t,n,r,i,s,o;return t=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],n=e,r="...",o=t,s=o.length,n<s&&(i=o.slice(0,n),o=i+r),o},r=""+o(n.name,4)+i.options.headerOpt.linkText,$("#linkTop").find("a").attr("href",""+i.options.headerOpt.linkTop+"?amebaId="+n.amebaId+"&"+i.options.headerOpt.prop1+"=1").html(r)},t}(Spine.Controller),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.configure("FlickAppRecommend"),t.init=function(){var e,t,n,r,s=this;return t=i.options.recommendOpt,r=t.url,e={data:"GET",dataType:t.dataType},i.options["recommendOpt"]["callbackName"]!=null?(e.jsonpCallback=t.callbackName,e.success=function(e){}):e.success=null,n=function(e){var t,n,r;t=e.length;while(t)n=Math.floor(Math.random()*t),r=e[--t],e[t]=e[n],e[n]=r;return e},i.getApi(r,e).done(function(e){var t;return t=n(e).slice(0,8),s.refresh(t)})},t}(Spine.Model),a=function(){function e(){this.transform=new c}return e.prototype.moveX=function(e,t){var n,r,i;n={property:"all",duration:"250ms",easing:"ease-in",delay:"0"},r={item:e,x:0,y:0,transitionPrm:n};if(t.distX<=0)return;return t.flicked==="left"?i=-(window.innerWidth/2)-$(e).find("li").eq(0).width()-20:t.flicked==="right"&&(i=0),r.transformPos=""+i+"px, 0, 0",this.transform.type3D(r)},e}(),o=function(t){function n(){this.touchEnd=y(this.touchEnd,this),this.touchMove=y(this.touchMove,this),this.touchStart=y(this.touchStart,this),n.__super__.constructor.apply(this,arguments),this.touches=new l,this.touches.el=this.el,this.animate=new a,this.mainAnimate=new e}return g(n,t),n.prototype.events={touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd"},n.prototype.touchStart=function(e){return this.mainAnimate.toolsControl.clearHideTimer(),this.touches.start(e)},n.prototype.touchMove=function(e){return this.touches.move(e)},n.prototype.touchEnd=function(e){return this.mainAnimate.toolsControl.maneger(),this.touches.end(e),this.animate.moveX(this.el,this.touches.moveInit)},n}(Spine.Controller),u=function(e){function t(){this.renderOne=y(this.renderOne,this),this.render=y(this.render,this),t.__super__.constructor.apply(this,arguments),this.recommendOption=i.options.recommendOpt,s.bind("refresh",this.render)}return g(t,e),t.prototype.render=function(){var e,t,n,r,u;return r=(window.innerWidth-70)*2,n=$("#toolbar"),u=$('<div id="rec_area" />'),e="<p>"+i.options.recommendOpt.title+"</p><div id='recMoveArea' style='width:"+window.innerWidth+"px;'><ul style='width:"+r+"px;'>",t=s.each(this.renderOne),e+=t.join("")+"</ul></div>",u.html(e),n.append(u),new o({el:"#rec_area ul"})},t.prototype.renderOne=function(e){var t;return this.recommendOption["attributeName"]!=null?t='<li><a href="'+e[this.recommendOption.attributeName[0]]+'" class="noHidden"><div>\n<span class="thumb"><img src="'+e[this.recommendOption.attributeName[1]]+'" alt="" class="rec_thumb"></span>\n<span class="rec_name">'+e[this.recommendOption.attributeName[2]]+"</span></div></a></li>":t='<li><a href="'+this.recommendOption.thumbUrl+e.amebaId+'&amp;pageNo=1" class="noHidden"><div>\n<span class="thumb"><img src="'+this.recommendOption.thumbPath+e.amebaId+'_48.jpg" alt="" class="rec_thumb"></span>\n<span class="rec_name">'+e.upperText+"</span></div></a></li>"},t.prototype.clickEvent=function(){return $("#rec_area").on("touchstart touchend","a",function(e){var t;return e.type==="touchstart"?t=.5:e.type==="touchend"&&(t=1),$(this).css({opacity:t})})},t}(Spine.Controller),this.ns.FlickAppModel=i,this.ns.FlickAppRecommend=u,this.ns.FlickAppView=h}).call(this);